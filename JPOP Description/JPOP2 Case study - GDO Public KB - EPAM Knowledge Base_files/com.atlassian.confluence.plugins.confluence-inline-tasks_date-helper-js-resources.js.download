WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:date-helper-js-resources', location = '/js/lib/lang/de.js' */
(function(a){if(typeof define==="function"&&define.amd){define(["moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("../moment"))}else{a(window.moment)}}}(function(b){function a(e,d,c,g){var f={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return d?f[c][0]:f[c][1]}return b.lang("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:a,mm:"%d Minuten",h:a,hh:"%d Stunden",d:a,dd:a,M:a,MM:a,y:a,yy:a},ordinal:"%d.",week:{dow:1,doy:4}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:date-helper-js-resources', location = '/js/lib/lang/es.js' */
(function(a){if(typeof define==="function"&&define.amd){define(["moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("../moment"))}else{a(window.moment)}}}(function(c){var b="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),a="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return c.lang("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(d,e){if(/-MMM-/.test(e)){return a[d.month()]}else{return b[d.month()]}},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+((this.hours()!==1)?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+((this.hours()!==1)?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+((this.hours()!==1)?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+((this.hours()!==1)?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+((this.hours()!==1)?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:date-helper-js-resources', location = '/js/lib/lang/fr.js' */
(function(a){if(typeof define==="function"&&define.amd){define(["moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("../moment"))}else{a(window.moment)}}}(function(a){return a.lang("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(b){return b+(b===1?"er":"")},week:{dow:1,doy:4}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:date-helper-js-resources', location = '/js/lib/lang/ja.js' */
(function(a){if(typeof define==="function"&&define.amd){define(["moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("../moment"))}else{a(window.moment)}}}(function(a){return a.lang("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(b,d,c){if(b<12){return"午前"}else{return"午後"}},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:date-helper-js-resources', location = '/js/lib/lang/en-gb.js' */
(function(a){if(typeof define==="function"&&define.amd){define(["moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("../moment"))}else{a(window.moment)}}}(function(a){return a.lang("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var c=e%10,d=(~~(e%100/10)===1)?"th":(c===1)?"st":(c===2)?"nd":(c===3)?"rd":"th";return e+d},week:{dow:1,doy:4}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:date-helper-js-resources', location = '/js/util.js' */
define("confluence-inline-tasks/util",["jquery","tinymce"],function(b,a){return{NODE_TYPE:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},KEY:{BACKSPACE:8,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,INS:45,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,META:91},addContentEditableIfApplicable:function(d){var c=b(d);c.attr({contenteditable:false,"class":"non-editable",onselectstart:"return false;"});a.isIE&&c.attr({contenteditable:true,unselectable:"on",oncontrolselect:"return false;"})}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-inline-tasks/util","Confluence.InlineTasks.Util");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:date-helper-js-resources', location = '/js/dateutil.js' */
define("confluence-inline-tasks/dateutil",["jquery","ajs","moment","tinymce","confluence/position","confluence-editor/editor/atlassian-editor","confluence-editor/editor/atlassian-editor-content","confluence-editor/utils/tinymce-node-utils","confluence-inline-tasks/util"],function(c,f,j,g,b,a,h,d,e){var i={PATTERN_INSERTING:"DD-MM-YYYY",PATTERN_LOZENGE:"DD MMM YYYY",PATTERN_INSIDE_TIME_ELE:"YYYY-MM-DD",convertDateIntoHtml:function(m,n,o,p){if(!p){p=i.PATTERN_INSERTING}if(!o){o=""}if(!n){n="<time>"}var k=c("<div>");var l="";var q=m.format(p);if(n.indexOf("time")>=0){l=c(n,{datetime:m.format(i.PATTERN_INSIDE_TIME_ELE)});e.addContentEditableIfApplicable(l);o&&l.attr("class",o);l.text(q)}else{l=c(n);o&&l.attr("class",o);l.text(q)}k.append(l);return k.html()},insertDateIntoCurrentCursor:function(n,l,t,s,u){var q=g.activeEditor;var r=i.convertDateIntoHtml(n,l,t,s);var m=c(r,q.getDoc())[0];var o=d.replaceSelection(m);if(u){q.execCommand("mceInsertContent",false,u,{skip_undo:true})}var k=c(q.selection.getRng(true).startContainer).closest("li[data-inline-task-id]").length?"task":"page";var p={context:k,trigger:"character"};f.trigger("analyticsEvent",{name:"confluence-spaces.date.added",data:p});return o},parse:function(l,m){if(!m){m=i.PATTERN_INSIDE_TIME_ELE}var k=j(c.trim(l),m,true);return k.isValid()?k:null},format:function(k,l){if(!l){l=i.PATTERN_INSIDE_TIME_ELE}return k?k.format(l):null},guessPartialDate:function(k,o){if(k==null){return null}k=c.trim(k.replace(/[-\.\/]/g,"-"));var n=k.split("-");var m=j().format(o).split("-");for(var l=0;l<3;l++){if(!n[l]){n[l]=m[l]}if(/^\d$/.test(n[l])){n[l]="0"+n[l]}}return i.parse(n.join("-"),o)},datepicker:{POSITION_ABOVE:true,POSITION_BELOW:false,POSITION_RIGHT:true,POSITION_LEFT:false,dropDownStillFitsVertically:function(l,m,k){if(l===this.POSITION_ABOVE){return m.above>=k}return m.below>=k},dropDownStillFitsHorizontally:function(l,m,k){if(l===this.POSITION_RIGHT){return m.right>=k}return m.left>=k},getPreferredHorizontalPosition:function(l,k){if(l.right>=k){return this.POSITION_RIGHT}else{if(l.left>=k){return this.POSITION_LEFT}}return l.right>l.left?this.POSITION_RIGHT:this.POSITION_LEFT},getPreferredVerticalPosition:function(l,k){if(l.below>=k){return this.POSITION_BELOW}else{if(l.above>=k){return this.POSITION_ABOVE}}return l.below>l.above?this.POSITION_BELOW:this.POSITION_ABOVE},calculateDatepickerPosition:function(k){var l=this;return function(n,w){var t;var x;var z;var q;var r;var A=16;var C=0;var m;var p;var s;var u;var v=a.Rte.getEditorFrame();if(b.spaceLeftRight===undefined){b.spaceLeftRight=function(H,G){var F=G.position().left;return{left:F,right:c(H).width()-F}}}t=b.spaceAboveBelow(v,k);x=b.spaceLeftRight(v,k);r=h.offset(k);m=n.outerHeight(true);p=n.outerWidth(true);s=m+A;u=p+C;var E=l.POSITION_BELOW;var D=l.POSITION_RIGHT;if(E){if(!l.dropDownStillFitsVertically(E,t,s)){E=null}}if(!E){E=l.getPreferredVerticalPosition(t,s)}if(D){if(!l.dropDownStillFitsHorizontally(D,x,s)){D=null}}D=l.getPreferredHorizontalPosition(x,u);if(E===l.POSITION_ABOVE){z=r.top-m-A}else{z=r.top+k.height()+A}if(D===l.POSITION_RIGHT){q=r.left-C}else{q=(r.left+k.outerWidth())-p}var B={top:z,left:q};var o=(D===l.POSITION_RIGHT)?k.outerWidth()/2:p-k.outerWidth()/2;if((o<0)||(o>p)){o=(p/10)}var y={left:o,top:(E===l.POSITION_ABOVE)?m:-A/2};return{displayAbove:E,popupCss:B,arrowCss:y}}},getHintTextOfDatePicker:function(k){return k?"Select a due date for this task.":"Select a date."},create:function(s){var r=s.$attachTo;var l=s.$positionTo;var k=s.startDate;var q=s.onSelect;var m=s.isSetDueDate;var p=c("<input>").attr("type","date").addClass("aui-date-picker").css("display","none");var o=p.datePicker({overrideBrowserDefault:true,dateFormat:"yy-mm-dd",languageCode:f.Meta.get("user-locale")&&f.Meta.get("user-locale").split("_")[0],position:this.calculateDatepickerPosition(l),onSelect:function(t){q(i.parse(t));n()},hint:this.getHintTextOfDatePicker(m)});var n=function(){o&&o.destroyPolyfill&&o.destroyPolyfill();p&&p.remove();c(".aui-datepicker-dialog").remove();o=null;p=null};o.show();o.setDate(i.format(k));c(".aui-datepicker-dialog .aui-datepicker-hint").addClass(m?"set-duedate":"set-date");r.before(p);return{die:function(){n()},show:function(){o.show()},hide:function(){o.hide()},getContainer:function(){return p},setDate:function(u){var t=i.guessPartialDate(u,i.PATTERN_INSERTING);f.debug("Set date: "+u);t&&o.setDate(i.format(t))},placeDatePicker:function(){var u=f.InlineDialog.current;var t=u&&u.popup;t&&t.refresh()}}}}};return i});require("confluence/module-exporter").exportModuleAsGlobal("confluence-inline-tasks/dateutil","Confluence.InlineTasks.DateUtil",function(a){var b=require("ajs");var c=require("underscore");var d=require("confluence/meta");var e=require("moment");b.toInit(function(){var g=function(l,i,k){if(i&&i.toLowerCase()==="en_us"){return"MM"+k+"DD"+k+"YYYY"}var j=c.uniq(l.replace(/[^MDY]/g,"").split(""));return j.join(k).replace("D","DD").replace("M","MM").replace("Y","YYYY")};var h=d.get("user-locale");if(h){e.lang(h.split("_")[0].toLowerCase())}var f=d.get("user-date-pattern");if(f){a.PATTERN_LOZENGE=f.toUpperCase();a.PATTERN_INSERTING=g(f.toUpperCase(),h,"-");a.PATTERN_INSERTING_ALTERNATE=g(f.toUpperCase(),h,"/")}})});
}catch(e){WRMCB(e)};